<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="file" id="upload">
<img src="" id="img1" alt="">
</body>
<script>

  function getBase64(file) {
    var reader = new FileReader();
    reader.readAsDataURL(file);
    reader.onload = function () {
      console.log(reader.result);
      var img = document.getElementById("img1");
      img.setAttribute("src", reader.result);
    };
    reader.onerror = function (error) {
      console.log('Error: ', error);
    };
  }

  // You can then get the data URL when the image got loaded:
  var img = document.getElementById('upload');

  img.addEventListener("change", function (e) {
    // console.log(e.target.value);
    var extension = e.target.value.split(".")[1];
    var allowed_extensions = ["jpg", "jpeg", "png", "gif"];
    // console.log(extension);
    if (!allowed_extensions.includes(extension)) {
      alert("File type not allowed!");
      img.value = "";
    }
    if(e.target.files[0].size > 1000000) {
      alert("File size exceeded!");
      img.value = "";
    }
    else
      getBase64(e.target.files[0]);
  });

</script>
</html>